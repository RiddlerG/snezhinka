{% extends 'base.html' %}

{% block title %}
    <title>Профиль</title>
{% endblock title %}

{% block content %}
<div class="container">
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link text-dark font-2" href="{% url 'user_orders' %}"><h1>Заказы</h1></a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark font-2 active" href="{% url 'profile' %}">Профиль</a>
        </li>
        <a class="text-danger small ml-auto mt-3" href="{% url 'logout' %}">Выход</a>
    </ul>

    <div class="row pb-5">
        <div class="col-lg-6 pr-lg-5">
            <h2 class="h4 m-0 mb-3 font-weight-normal">Настройка профиля</h2>
            <form class="needs-validation mb-5" novalidate method="POST" action="{% url 'profile' %}">
                {% csrf_token %}
                <div class="form-group">
                    {{ change_pass_form.email }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>                        
                <div class="form-group">
                    {{ change_pass_form.old_password }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ change_pass_form.new_password1 }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ change_pass_form.new_password2 }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                {% for field in change_pass_form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger small mt-4 mb-4" role="alert">
                            <strong>Ошибка!</strong> {{ error }}
                        </div>
                    {% endfor %}
                {% endfor %}

                <button name="change-pass-form" class="btn btn-primary btn-sm font-2" type="submit"><i class="fas fa-check mr-2"></i>сохранить</button>
            </form>
        </div>
        <div class="col-lg-6 pl-lg-5">
            <h2 class="h4 m-0 mb-3 font-weight-normal">Информация для доставки</h2>
            <form class="needs-validation" novalidate method="POST" action="">
                {% csrf_token %}
                <div class="form-group">
                    {{ userinfo_form.phone }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ userinfo_form.full_name }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ userinfo_form.postcode }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>

                <div class="form-group">
                    {{ userinfo_form.country }}
                </div>
                <div class="form-group">
                    {{ userinfo_form.region }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ userinfo_form.locality }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <div class="form-group">
                    {{ userinfo_form.address }}
                    <div class="invalid-feedback">
                        Это поле должно быть заполнено
                    </div>
                </div>
                <button name="user-info-form" class="btn btn-primary btn-sm font-2" type="submit"><i class="fas fa-check mr-2"></i>сохранить</button>
            </form>
        </div>
    </div>
</div>
{% endblock content %}